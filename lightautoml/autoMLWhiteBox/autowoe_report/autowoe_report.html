<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui">
    <title>AutoWoE validation report</title>
</head>
<style>
    table,
    th,
    td {
        border: 1px solid black;
        border-collapse: collapse;
        padding: 5px;
    }

    /* Remove default bullets */
    ul,
    #myUL {
        list-style-type: none;
    }

    /* Remove margins and padding from the parent ul */
    #myUL {
        margin: 0;
        padding: 0;
    }

    /* Style the caret/arrow */
    .caret {
        cursor: pointer;
        user-select: none;
        /* Prevent text selection */
    }

    /* Create the caret/arrow with a unicode, and style it */
    .caret::before {
        content: "\25B6";
        color: black;
        display: inline-block;
        margin-right: 6px;
    }

    /* Rotate the caret/arrow icon when clicked on (using JavaScript) */
    .caret-down::before {
        transform: rotate(90deg);
    }

    /* Hide the nested list */
    .nested {
        display: none;
    }

    /* Show the nested list when the user clicks on the caret/arrow (with JavaScript) */
    .active {
        display: block;
    }
</style>
<script src="shap.js"></script>

<body>
    <div>
        <h1>AutoWoE automatically generated report</h1>
        <hr>
        <h2>Report on AutoWoE ran on bikeshares dataset</h2>
        <h3>Report version: 1</h3>
        <h3>Budapest, 2021</h3>
        <hr>
    </div>
    <!--
    <div>
        <h2>Оглавление</h2>
        <ul style="list-style-type:disc;">
            <li>
                <a href="#section1">1. Общие положения</a>
                <ul style="list-style-type:circle;">
                    <li><a href="#section1_1">1.1. Цель документа</a></li>
                    <li><a href="#section1_2">1.2. Цели и задачи, для которых требуется построение модели</a></li>
                    <li><a href="#section1_3">1.3. Структура документа</a></li>
                    <li><a href="#section1_4">1.4. Сводная информация по модели</a></li>
                </ul>
            </li>
            <li>
                <a href="#section2">2. Структура модели</a>
                <ul style="list-style-type:circle;">
                    <li><a href="#section2_1">2.1. Коэффициенты регрессионной модели</a></li>
                    <li><a href="#section2_2">2.2. Разбиение признаков на бины и WoE значения в них</a></li>
                </ul>
            </li>
            <li>
                <a href="#section3">3. Валидационные тесты</a>
                <ul style="list-style-type:circle;">
                    <li><a href="#section3_1">3.1. Отличия в числе пропусков между обучающей и тестовой выборкой</a>
                    </li>
                    <li><a href="#section3_2">3.2. Качество классификации по каждому из признаков финальной модели</a>
                    </li>
                    <li><a href="#section3_3">3.3. Доверительный интервал для индекса Джини</a></li>
                    <li><a href="#section3_4">3.4. P-value на коэффициенты модели</a></li>
                    <li><a href="#section3_5">3.5. Одномерный анализ</a></li>
                    <li><a href="#section3_6">3.6. Проверка на монотонность</a></li>
                    <li><a href="#section3_7">3.7. Проверка на люфт</a></li>
                    <li><a href="#section3_8">3.8. Проверка на VIF</a></li>
                    <li><a href="#section3_9">3.9. PSI</a></li>
                </ul>
            </li>
            <li>
                <a href="#section4">4. Дополнительные отчеты</a>
                <ul style="list-style-type:circle;">
                    <li><a href="#section4_1">4.1. Статистики по бинам предсказания</a></li>
                    <li><a href="#section4_2">4.2. Корреляции по факторам, вошедшим в модель</a></li>
                    <li><a href="#section4_3">4.3. Скоринговая карта</a></li>
                    <li><a href="#section4_4">4.4. История отбора признаков</a></li>
                    <li><a href="#section4_5">4.5. Вклад каждой переменной в модель</a></li>
                </ul>
            </li>
        </ul>
    </div>
    -->
    <ul id="myUL">
        <li>
            <h2 class="caret caret-down" id="section1">1. General Provisions</h2>
            <ul class="nested active">
                <li>
                    <h3 class="caret" id="section1_1">1.1. Purpose of the Document</h3>
                    <ul class="nested">
                        <p>This report is made to ensure the continuity of business processes, preserve and 
							share internal organization expertise within the Group, as well as to prove the feasibility
							and validity of the developed model.</p>
                        <p>To achieve the goals, the Report provides insights into some essential methodological 
							approaches to modeling.</p>
                    </ul>
                </li>
                <li>
                    <h3 class="caret" id="section1_2">1.2. Goals and Tasks which Require Building a Model</h3>
                    <ul class="nested">
                        <li>
                            <p>Run autoWoe on bikeshare dataset to test library</p>
                        </li>
                    </ul>
                </li>
                <li>
                    <h3 class="caret" id="section1_3">1.3. Document Structure</h3>
                    <ul class="nested">
                        <p>The report has the following structure:</p>
                        <ul style="list-style-type:disc;">
                            <li>Section <a href="#section2">Model parameters</a> contains model description:
                                features,
                                coefficients of the regression model, splitting features into bins.
                            </li>
                            <li>Section <a href="#section3">Validation tests</a> contains information about validation 
                                tests.
                            </li>

                        </ul>
                    </ul>
                </li>
                <li>
                    <h3 class="caret" id="section1_4">1.4. Model Summary</h3>
                    <ul class="nested">
                        <p>Key model identifiers are given in Table 1.</p>
                        <h4>Table 1. Model identifiers</h4>
                        <table style="width:100%">
                            <tr>
                                <th width="30%">Parameter</th>
                                <th width="70%">Value</th>
                            </tr>
                            <tr>
                                <td><b>Model name / ID</b></td>
                                <td>Bikeshare classification</td>
                            </tr>
                            <tr>
                                <td><b>Report version</b></td>
                                <td>1</td>
                            </tr>
                            <tr>
                                <td><b>Model customer</b></td>
                                <td>Own project</td>
                            </tr>
                            <tr>
                                <td><b>Name of the Group member and high level department</b></td>
                                <td>Own project</td>
                            </tr>
                            <tr>
                                <td><b>Model developer (if an external developer is involved, it is necessary
                                        to indicate Company's name)</b></td>
                                <td>Kristof Rabay</td>
                            </tr>
                        </table>

                        <p>Description and specification of datasets that are used to develop and test the model
                            are presented in Table
                            2.</p>
                        <h4>Table 2. Summary of data sets used to build the model</h4>
                        <table style="width:100%">
                            <tr>
                                <td width="20%"><strong>Parameter</strong></td>
                                <td width="16%"><strong>Training set</strong></td>
                                <td width="16%"><strong>Test set</strong></td>
                            </tr>
                            <tr>
                                <td><b>Target event description</b></td>
                                <td colspan="5">daily bike shares reached 6000</td>
                            </tr>
                            <tr>
                                <td><b>Non-target event description</b></td>
                                <td colspan="5">daily bike shares did not reach 6000</td>
                            </tr>
                            <tr>
                                <td><b>Observations count in sets</b></td>
                                <td>731</td>
                                <td>731</td>
                            </tr>
                            <tr>
                                <td><b>Target events count</b></td>
                                <td>180</td>
                                <td>180</td>
                            </tr>
                            <tr>
                                <td><b>Non-target events count</b></td>
                                <td>551</td>
                                <td>551</td>
                            </tr>
                            <tr>
                                <td><b>Mean of target in sets</b></td>
                                <td>24.62%</td>
                                <td>24.62%</td>
                            </tr>
                        </table>

                        <p>Predictions of the model trained on the training set are shown in Table 3.</p>
                        <h4>Table 3. Model predictions (trained using the training set)</h4>
                        <table style="width:100%">
                            <tr>
                                <td width="20%"><strong>Parameter</strong></td>
                                <td width="40%"><strong>Training set</strong></td>
                                <td width="40%"><strong>Test set</strong></td>
                            </tr>
                            <tr>
                                <td><b>AUC</b></td>
                                <td>84.60%</td>
                                <td>84.60%</td>
                            </tr>
                            <tr>
                                <td><b>Gini</b></td>
                                <td>69.20%</td>
                                <td>69.20%</td>
                            </tr>
                        </table>
                        <p><img src="AUC_test_plot_full.png" alt="AUC test plot full"></p>
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <h2 class="caret caret-down" id="section2">2. Model Structure</h2>
            <ul class="nested active">
                <li>
                    <h3 class="caret" id="section2_1">2.1. Coefficients of the Regression Model</h3>
                    <ul class="nested">
                        <p>Coefficients of the regression model are shown in Table 4.</p>
                        <h4>Table 4. Coefficients of the regression model</h4>
                        <table style="width:100%">
                            <tr>
                                <td width="40%"><strong>Feature name</strong></td>
                                <td width="40%"><strong>Regression coefficient</strong></td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>-1.000207</td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>-0.948416</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>-0.922996</td>
                            </tr>
                            
                        </table>
                        <p><img src="Model_weights.png" alt="Model weights"></p>
                    </ul>
                </li>
                <li>
                    <h3 class="caret" id="section2_2">2.2. Splitting Features into Bins and WoE Values ​​in them</h3>
                    <ul class="nested">
                        <p></p>
                        
                        <p><img src=atemp_woe.png alt="atemp_woe.png}" /></p>
                        
                        <p><img src=windspeed_woe.png alt="windspeed_woe.png}" /></p>
                        
                        <p><img src=hum_woe.png alt="hum_woe.png}" /></p>
                        
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <h2 class="caret caret-down" id="section3">3. Validation Tests</h2>
            <ul class="nested active">
                <li>
                    <h3 class="caret" id="section3_1">3.1. Differences in the Number of Missing Values between Training and Test Sets
                    </h3>
                    <ul class="nested">
                        <p>Statistics related to the number of missing values between training and test sets are shown in Table 5.</p>
                        <h4>Table 5. Missing values</h4>
                        <table style="width:100%">
                            <tr>
                                <td width="40%"><strong>Feature name</strong></td>

                                <td width="40%"><strong>Number of valid values in the training set</strong></td>
                                <td width="40%"><strong>Number of valid values in the test set</strong></td>

                                <td width="40%"><strong>Number of missing values in the training set</strong></td>
                                <td width="40%"><strong>Number of missing values in the test set</strong></td>

                                <td width="40%"><strong>Percentage of valid values in the training set</strong></td>
                                <td width="40%"><strong>Percentage of valid values in the test set</strong></td>

                                <td width="40%"><strong>Difference in percentage of valid values ​​in sets</strong></td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>731</td>
                                <td>731</td>
                                <td>0</td>

                                <td>0</td>
                                <td>0.00</td>
                                <td>0.00</td>
                                <td>0.00</td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>731</td>
                                <td>731</td>
                                <td>0</td>

                                <td>0</td>
                                <td>0.00</td>
                                <td>0.00</td>
                                <td>0.00</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>731</td>
                                <td>731</td>
                                <td>0</td>

                                <td>0</td>
                                <td>0.00</td>
                                <td>0.00</td>
                                <td>0.00</td>
                            </tr>
                            
                        </table>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_2">3.2. Classification Quality for Each of the Final Model's
                        features</h3>
                    <ul class="nested">
                        <p></p>
                        
                        <p><img src=atemp_roc_auc.png alt="atemp_roc_auc.png}" /></p>
                        
                        <p><img src=windspeed_roc_auc.png alt="windspeed_roc_auc.png}" /></p>
                        
                        <p><img src=hum_roc_auc.png alt="hum_roc_auc.png}" /></p>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_3">3.3. Confidence Interval for Gini Index</h3>
                    <ul class="nested">
                        <span>95% confidence interval for Gini index:</span>
                        <ul>
                            <li>- In the <strong>training</strong> set: <strong>(0.631, 0.75)</strong></li>
                            <li>- In the <strong>test</strong> set: <strong>(0.63, 0.748)</strong></li>
                        </ul>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_4">3.4. P-value for Model Coefficients</h3>
                    <ul class="nested">
                        
                        <h4>For features in training set:</h4>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>P-value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>8e-06</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>3e-06</td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>Intercept_</td>
                                <td>0.0</td>
                            </tr>
                            
                        </table>
                        <h4>For features in the test set:</h4>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>P-value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>8e-06</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>3e-06</td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>Intercept_</td>
                                <td>0.0</td>
                            </tr>
                            
                        </table>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_5">3.5. One-dimensional Analysis</h3>
                    <ul class="nested">
                        <p>Gini for the training set</p>
                        <p><img src="train_enc_ginis.png" alt="Train_enc ginis"></p>
                        <p>Gini for the test set</p>
                        <p><img src="test_enc_ginis.png" alt="Test_enc ginis"></p>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_6">3.6. Check for Monotony</h3>
                    <ul class="nested">
                        <p></p>
                        
                        <p><img src=atemp_woe_bars.png alt="atemp_woe_bars.png}" /></p>
                        
                        <p><img src=windspeed_woe_bars.png alt="windspeed_woe_bars.png}" /></p>
                        
                        <p><img src=hum_woe_bars.png alt="hum_woe_bars.png}" /></p>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_7">3.7. Check for Backlash</h3>
                    <ul class="nested">
                        <p></p>
                        
                        <p><img src=atemp_backlash_plot.png alt="atemp_backlash_plot.png}" /></p>
                        
                        <p><img src=windspeed_backlash_plot.png alt="windspeed_backlash_plot.png}" /></p>
                        
                        <p><img src=hum_backlash_plot.png alt="hum_backlash_plot.png}" /></p>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_8">3.8. Check for VIF</h3>
                    <ul class="nested">
                        
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>VIF value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>1.049079</td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>1.043716</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>1.005514</td>
                            </tr>
                            
                        </table>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_9">3.9. PSI</h3>
                    <ul class="nested">
                        
                        <p>Total PSI</p>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>PSI value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>0.0</td>
                            </tr>
                            
                        </table>
                        <p>PSI for non-target events</p>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>PSI value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>0.0</td>
                            </tr>
                            
                        </table>
                        <p>PSI for target events</p>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>PSI value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>0.0</td>
                            </tr>
                            
                        </table>
                        <p>Grouping by predictions on the training set (total)</p>
                        <p><img src="binned_train_total.png" alt="binned_train_total"></p>
                        <p>Grouping by predictions of target and non-target events on the training set</p>
                        <p><img src="binned_train_posneg.png" alt="binned_train_posneg"></p>
                        <p>Grouping by predictions on the test set (total)</p>
                        <p><img src="binned_test_total.png" alt="binned_test_total"></p>
                        <p>Grouping by predictions of target and non-target events on the test set</p>
                        <p><img src="binned_test_posneg.png" alt="binned_test_posneg"></p>
                        <p>PSI by grouped predictions of model</p>
                        <table>
                            <tr>
                                <td><strong>Total PSI</strong></td>
                                <td>0.0</td>
                            </tr>
                            <tr>
                                <td><strong>PSI for non-target events</strong></td>
                                <td>0.0</td>
                            </tr>
                            <tr>
                                <td><strong>PSI for target events</strong></td>
                                <td>0.0</td>
                            </tr>
                        </table>
                        
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <h2 class="caret caret-down" id="section4">4. Additional Reports</h2>
            <ul class="nested active">

                <li>
                    <h3 class="caret" id="section4_1">4.1. Prediction Bin Statistics</h3>
                    <ul class="nested">
                        <h4>Mean value of the target on the training and test set</h4>
                        <p><img src="binned_stats_target.png" alt="binned_stats_target"></p>
                        <h4>Prediction statistics for the training set</h4>
                        <p><img src="binned_stats_train.png" alt="binned_stats_train"></p>
                        
                        <table>
                            <tr>
                                <td><strong>ScoreBin</strong></td>
                                <td><strong>count</strong></td>
                                <td><strong>mean</strong></td>
                                <td><strong>std</strong></td>
                                <td><strong>min</strong></td>
                                <td><strong>25%</strong></td>
                                <td><strong>50%</strong></td>
                                <td><strong>75%</strong></td>
                                <td><strong>max</strong></td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-9.365, -8.83]</strong></td>
                                <td>1.0</td>
                                <td>0.0001</td>
                                <td>nan</td>
                                <td>0.0001</td>
                                <td>0.0001</td>
                                <td>0.0001</td>
                                <td>0.0001</td>
                                <td>0.0001</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-8.83, -8.305]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-8.305, -7.78]</strong></td>
                                <td>2.0</td>
                                <td>0.0003</td>
                                <td>0.0</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-7.78, -7.255]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-7.255, -6.73]</strong></td>
                                <td>25.0</td>
                                <td>0.0009</td>
                                <td>0.0</td>
                                <td>0.0009</td>
                                <td>0.0009</td>
                                <td>0.0009</td>
                                <td>0.0009</td>
                                <td>0.0009</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-6.73, -6.205]</strong></td>
                                <td>17.0</td>
                                <td>0.0017</td>
                                <td>0.0003</td>
                                <td>0.0014</td>
                                <td>0.0014</td>
                                <td>0.0019</td>
                                <td>0.0019</td>
                                <td>0.0019</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-6.205, -5.68]</strong></td>
                                <td>4.0</td>
                                <td>0.0024</td>
                                <td>0.0002</td>
                                <td>0.0021</td>
                                <td>0.0024</td>
                                <td>0.0025</td>
                                <td>0.0025</td>
                                <td>0.0025</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-5.68, -5.155]</strong></td>
                                <td>9.0</td>
                                <td>0.004</td>
                                <td>0.0001</td>
                                <td>0.0038</td>
                                <td>0.004</td>
                                <td>0.004</td>
                                <td>0.004</td>
                                <td>0.004</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-5.155, -4.63]</strong></td>
                                <td>55.0</td>
                                <td>0.0094</td>
                                <td>0.0003</td>
                                <td>0.0075</td>
                                <td>0.0095</td>
                                <td>0.0095</td>
                                <td>0.0095</td>
                                <td>0.0095</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-4.63, -4.105]</strong></td>
                                <td>76.0</td>
                                <td>0.0146</td>
                                <td>0.0006</td>
                                <td>0.011</td>
                                <td>0.0147</td>
                                <td>0.0147</td>
                                <td>0.0147</td>
                                <td>0.0147</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-4.105, -3.58]</strong></td>
                                <td>36.0</td>
                                <td>0.0205</td>
                                <td>0.0011</td>
                                <td>0.0193</td>
                                <td>0.0193</td>
                                <td>0.0197</td>
                                <td>0.0217</td>
                                <td>0.0217</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-3.58, -3.055]</strong></td>
                                <td>96.0</td>
                                <td>0.033</td>
                                <td>0.0052</td>
                                <td>0.0273</td>
                                <td>0.0303</td>
                                <td>0.0303</td>
                                <td>0.0322</td>
                                <td>0.0446</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-3.055, -2.53]</strong></td>
                                <td>8.0</td>
                                <td>0.0624</td>
                                <td>0.0052</td>
                                <td>0.0557</td>
                                <td>0.0567</td>
                                <td>0.0662</td>
                                <td>0.0662</td>
                                <td>0.0662</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-2.53, -2.005]</strong></td>
                                <td>17.0</td>
                                <td>0.0819</td>
                                <td>0.0048</td>
                                <td>0.0795</td>
                                <td>0.0795</td>
                                <td>0.0795</td>
                                <td>0.0795</td>
                                <td>0.0957</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-2.005, -1.48]</strong></td>
                                <td>4.0</td>
                                <td>0.1785</td>
                                <td>0.0097</td>
                                <td>0.1639</td>
                                <td>0.1785</td>
                                <td>0.1833</td>
                                <td>0.1833</td>
                                <td>0.1833</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-1.48, -0.955]</strong></td>
                                <td>47.0</td>
                                <td>0.2331</td>
                                <td>0.0374</td>
                                <td>0.1862</td>
                                <td>0.1862</td>
                                <td>0.2626</td>
                                <td>0.2626</td>
                                <td>0.2626</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-0.955, -0.43]</strong></td>
                                <td>42.0</td>
                                <td>0.3032</td>
                                <td>0.0123</td>
                                <td>0.2936</td>
                                <td>0.2936</td>
                                <td>0.2976</td>
                                <td>0.3204</td>
                                <td>0.3245</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-0.43, 0.0951]</strong></td>
                                <td>153.0</td>
                                <td>0.4241</td>
                                <td>0.031</td>
                                <td>0.3974</td>
                                <td>0.3974</td>
                                <td>0.4021</td>
                                <td>0.4661</td>
                                <td>0.5168</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(0.0951, 0.62]</strong></td>
                                <td>123.0</td>
                                <td>0.5809</td>
                                <td>0.0093</td>
                                <td>0.5547</td>
                                <td>0.5807</td>
                                <td>0.5807</td>
                                <td>0.5807</td>
                                <td>0.6292</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(0.62, 1.145]</strong></td>
                                <td>16.0</td>
                                <td>0.7339</td>
                                <td>0.0312</td>
                                <td>0.6645</td>
                                <td>0.7234</td>
                                <td>0.741</td>
                                <td>0.7586</td>
                                <td>0.7586</td>
                            </tr>
                            
                        </table>
                        
                        <h4>Prediction statistics for the test set</h4>
                        <p><img src="binned_stats_test.png" alt="binned_stats_test"></p>
                        
                        <table>
                            <tr>
                                <td><strong>ScoreBin</strong></td>
                                <td><strong>count</strong></td>
                                <td><strong>mean</strong></td>
                                <td><strong>std</strong></td>
                                <td><strong>min</strong></td>
                                <td><strong>25%</strong></td>
                                <td><strong>50%</strong></td>
                                <td><strong>75%</strong></td>
                                <td><strong>max</strong></td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-9.365, -8.83]</strong></td>
                                <td>1.0</td>
                                <td>0.0001</td>
                                <td>nan</td>
                                <td>0.0001</td>
                                <td>0.0001</td>
                                <td>0.0001</td>
                                <td>0.0001</td>
                                <td>0.0001</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-8.83, -8.305]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-8.305, -7.78]</strong></td>
                                <td>2.0</td>
                                <td>0.0003</td>
                                <td>0.0</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-7.78, -7.255]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-7.255, -6.73]</strong></td>
                                <td>25.0</td>
                                <td>0.0009</td>
                                <td>0.0</td>
                                <td>0.0009</td>
                                <td>0.0009</td>
                                <td>0.0009</td>
                                <td>0.0009</td>
                                <td>0.0009</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-6.73, -6.205]</strong></td>
                                <td>17.0</td>
                                <td>0.0017</td>
                                <td>0.0003</td>
                                <td>0.0014</td>
                                <td>0.0014</td>
                                <td>0.0019</td>
                                <td>0.0019</td>
                                <td>0.0019</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-6.205, -5.68]</strong></td>
                                <td>4.0</td>
                                <td>0.0024</td>
                                <td>0.0002</td>
                                <td>0.0021</td>
                                <td>0.0024</td>
                                <td>0.0025</td>
                                <td>0.0025</td>
                                <td>0.0025</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-5.68, -5.155]</strong></td>
                                <td>9.0</td>
                                <td>0.004</td>
                                <td>0.0001</td>
                                <td>0.0038</td>
                                <td>0.004</td>
                                <td>0.004</td>
                                <td>0.004</td>
                                <td>0.004</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-5.155, -4.63]</strong></td>
                                <td>55.0</td>
                                <td>0.0094</td>
                                <td>0.0003</td>
                                <td>0.0075</td>
                                <td>0.0095</td>
                                <td>0.0095</td>
                                <td>0.0095</td>
                                <td>0.0095</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-4.63, -4.105]</strong></td>
                                <td>76.0</td>
                                <td>0.0146</td>
                                <td>0.0006</td>
                                <td>0.011</td>
                                <td>0.0147</td>
                                <td>0.0147</td>
                                <td>0.0147</td>
                                <td>0.0147</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-4.105, -3.58]</strong></td>
                                <td>36.0</td>
                                <td>0.0205</td>
                                <td>0.0011</td>
                                <td>0.0193</td>
                                <td>0.0193</td>
                                <td>0.0197</td>
                                <td>0.0217</td>
                                <td>0.0217</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-3.58, -3.055]</strong></td>
                                <td>96.0</td>
                                <td>0.033</td>
                                <td>0.0052</td>
                                <td>0.0273</td>
                                <td>0.0303</td>
                                <td>0.0303</td>
                                <td>0.0322</td>
                                <td>0.0446</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-3.055, -2.53]</strong></td>
                                <td>8.0</td>
                                <td>0.0624</td>
                                <td>0.0052</td>
                                <td>0.0557</td>
                                <td>0.0567</td>
                                <td>0.0662</td>
                                <td>0.0662</td>
                                <td>0.0662</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-2.53, -2.005]</strong></td>
                                <td>17.0</td>
                                <td>0.0819</td>
                                <td>0.0048</td>
                                <td>0.0795</td>
                                <td>0.0795</td>
                                <td>0.0795</td>
                                <td>0.0795</td>
                                <td>0.0957</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-2.005, -1.48]</strong></td>
                                <td>4.0</td>
                                <td>0.1785</td>
                                <td>0.0097</td>
                                <td>0.1639</td>
                                <td>0.1785</td>
                                <td>0.1833</td>
                                <td>0.1833</td>
                                <td>0.1833</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-1.48, -0.955]</strong></td>
                                <td>47.0</td>
                                <td>0.2331</td>
                                <td>0.0374</td>
                                <td>0.1862</td>
                                <td>0.1862</td>
                                <td>0.2626</td>
                                <td>0.2626</td>
                                <td>0.2626</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-0.955, -0.43]</strong></td>
                                <td>42.0</td>
                                <td>0.3032</td>
                                <td>0.0123</td>
                                <td>0.2936</td>
                                <td>0.2936</td>
                                <td>0.2976</td>
                                <td>0.3204</td>
                                <td>0.3245</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-0.43, 0.0951]</strong></td>
                                <td>153.0</td>
                                <td>0.4241</td>
                                <td>0.031</td>
                                <td>0.3974</td>
                                <td>0.3974</td>
                                <td>0.4021</td>
                                <td>0.4661</td>
                                <td>0.5168</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(0.0951, 0.62]</strong></td>
                                <td>123.0</td>
                                <td>0.5809</td>
                                <td>0.0093</td>
                                <td>0.5547</td>
                                <td>0.5807</td>
                                <td>0.5807</td>
                                <td>0.5807</td>
                                <td>0.6292</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(0.62, 1.145]</strong></td>
                                <td>16.0</td>
                                <td>0.7339</td>
                                <td>0.0312</td>
                                <td>0.6645</td>
                                <td>0.7234</td>
                                <td>0.741</td>
                                <td>0.7586</td>
                                <td>0.7586</td>
                            </tr>
                            
                        </table>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section4_2">4.2. Correlations by Factors Included in the Model</h3>
                    <ul class="nested">
                        <p><img src="corr_heatmap.png" alt="corr_heatmap"></p>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section4_3">4.3. Scorecard</h3>
                    <ul class="nested">
                        <table>
                            <tr>
                                <td><strong>Variable</strong></td>
                                <td><strong>Value</strong></td>
                                <td><strong>WOE</strong></td>
                                <td><strong>COEF</strong></td>
                                <td><strong>POINTS</strong></td>
                            </tr>
                            
                            <tr>
                                <td>Intercept</td>
                                <td>None</td>
                                <td>None</td>
                                <td>-1.11</td>
                                <td>-1.11</td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>atemp <= 0.41</td>
                                <td>3.13</td>
                                <td>-0.95</td>
                                <td>-2.96</td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>0.41 < atemp <= 0.53</td>
                                <td>-0.22</td>
                                <td>-0.95</td>
                                <td>0.21</td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>atemp > 0.53</td>
                                <td>-0.87</td>
                                <td>-0.95</td>
                                <td>0.83</td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>__NaN_0__</td>
                                <td>0</td>
                                <td>-0.95</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>windspeed <= 0.06</td>
                                <td>1.83</td>
                                <td>-0.92</td>
                                <td>-1.69</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>0.06 < windspeed <= 0.08</td>
                                <td>-1.29</td>
                                <td>-0.92</td>
                                <td>1.19</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>0.08 < windspeed <= 0.18</td>
                                <td>-0.4</td>
                                <td>-0.92</td>
                                <td>0.37</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>0.18 < windspeed <= 0.35</td>
                                <td>0.41</td>
                                <td>-0.92</td>
                                <td>-0.37</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>windspeed > 0.35</td>
                                <td>2.98</td>
                                <td>-0.92</td>
                                <td>-2.75</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>__NaN_0__</td>
                                <td>0</td>
                                <td>-0.92</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>hum <= 0.49</td>
                                <td>0.2</td>
                                <td>-1.0</td>
                                <td>-0.2</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>0.49 < hum <= 0.73</td>
                                <td>-0.24</td>
                                <td>-1.0</td>
                                <td>0.24</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>0.73 < hum <= 0.74</td>
                                <td>-0.88</td>
                                <td>-1.0</td>
                                <td>0.88</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>0.74 < hum <= 0.81</td>
                                <td>0.22</td>
                                <td>-1.0</td>
                                <td>-0.22</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>hum > 0.81</td>
                                <td>2.53</td>
                                <td>-1.0</td>
                                <td>-2.53</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>__NaN_0__</td>
                                <td>0</td>
                                <td>-1.0</td>
                                <td>0.0</td>
                            </tr>
                            
                        </table>
                        <br/>
                        <span>Missing values processing legend:</span>
                        <ul>
                            <li><strong>__NaN__</strong> - separate group with WoE evaluation</li>
                            <li><strong>__NaN_0__</strong> - separate group with WoE = 0</li>
                            <li><strong>__NaN_maxfreq__</strong> - added to the most frequent group without WoE evaluation</li>
                            <li><strong>__NaN_maxp__</strong> - added to the group with maximum probability without WoE evaluation</li>
                            <li><strong>__NaN_minp__</strong> - added to the group with minimum probability without WoE evaluation</li>
                        </ul>
                        <br/>
                        <span>Rare/unknown category processing legend:</span>
                        <ul>
                            <li><strong>__Small__</strong> - separate group with WoE evaluation</li>
                            <li><strong>__Small_nan__</strong> - to the NaN group</li>
                            <li><strong>__Small_0__</strong> - separate group with WoE = 0</li>
                            <li><strong>__Small_maxfreq__</strong> - added to the most frequent group without WoE evaluation</li>
                            <li><strong>__Small_maxp__</strong> - added to the group with maximum probability without WoE evaluation</li>
                            <li><strong>__Small_minp__</strong> - added to the group with minimum probability without WoE evaluation</li>
                        </ul>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section4_4">4.4. Feature Selection History</h3>
                    <ul class="nested">
                        <table>
                            <tr>
                                <td><strong>Feature</strong></td>
                                <td><strong></strong></td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>Selected; Gini = 0.55, IV = 1.91</td>
                            </tr>
                            
                            <tr>
                                <td>holiday</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>Selected; Gini = 0.23, IV = 0.4</td>
                            </tr>
                            
                            <tr>
                                <td>mnth</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>season</td>
                                <td>Pruned by L1 selector</td>
                            </tr>
                            
                            <tr>
                                <td>weathersit</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>weekday</td>
                                <td>Constant WOE value</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>Selected; Gini = 0.29, IV = 0.43</td>
                            </tr>
                            
                            <tr>
                                <td>workingday</td>
                                <td>Constant WOE value</td>
                            </tr>
                            
                        </table>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section4_5">4.5. Feature Contribution in the Model</h3>
                    <ul class="nested">
                        

                        
                        <table>
                            <tr>
                                <td><strong>Feature</strong></td>
                                <td><strong>Contribution to ROC AUC</strong></td>
                            </tr>
                            
                            <tr>
                                <td>atemp</td>
                                <td>0.1407</td>
                            </tr>
                            
                            <tr>
                                <td>hum</td>
                                <td>0.0323</td>
                            </tr>
                            
                            <tr>
                                <td>windspeed</td>
                                <td>0.0243</td>
                            </tr>
                            
                        </table>
                        

                        
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    <script type="text/javascript">
        var toggler = document.getElementsByClassName("caret");
        var i;

        for (i = 0; i < toggler.length; i++) {
            toggler[i].addEventListener("click", function () {
                this.parentElement.querySelector(".nested").classList.toggle("active");
                this.classList.toggle("caret-down");
            });
        }
    </script>
</body>

</html>